---
title: "RMedlineFunctions Examples for "myasthenia gravis"
output: html_notebook
---

This is a first attempt at building an example of RMedlineFunctions (https://github.com/fdsayre/RMedlineFunctions) using an RNoteBook to display results.

This example used 'Myasthenia Gravis' as a query. There is a fair amount of research on Myasthenia Gravis, so some parts of the script, such as adding cited data, take a long time to complete. A shorter example looking at 'librarian[ti]' is in the works.


Load functions and libraries

```{r}
source("RMedlineFunctions.R")
library(RISmed)
library(ggplot2)
library(dplyr)
```

Set query (can be anything you would search in pubmed.gov)
retrieve medline data file

The turn that medline data file into a data frame with most article metadata (but not all!)

```{r}
query = 'myasthenia gravis'
mg_data <- RetrieveArticleData(query,2000,2016,30000)
mg_most_meta <- RetrieveMostArticleMetadata(mg_data)
```

Create a basic bar chart shorting publication frequency by year from article metadata file (must contain at least a Year variable)

```{r}
ArticlesFreqYear(mg_most_meta)
```

Plot article status using medline data file

```{r}
PMStatusByYearPlot(mg_data)
```


Get data on number of times each article has been cited and add that data to an existing article metadata file.

WARNING: This can take a LONG time

variables for function:
x = medline data file
y = article metadata file that has PMIDs at minimum 


```{r}
mg_meta_citationtoo <- GetCitationData(mg_data, mg_most_meta)
```

Plot citations

```{r}
PlotCitations(mg_meta_citationtoo)
```

